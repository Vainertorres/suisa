{% extends 'base/basecvd.html' %}
{% block page_content %}
	  <div class="card shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                  <h6 class="m-0 font-weight-bold text-primary">Listado de Pacientes evaluados en BAC</h6>
                  <div class="dropdown no-arrow">
                    <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                      <div class="dropdown-header">Acciones:</div>
                      <a class="dropdown-item" href="{% url 'cvd:bac_new' %}"> <span class="fa fa-calendar-plus"></span>Nuevo</a>
                      
                    </div>
                  </div>
                </div>
                <!-- Card Body -->
                <div class="card-body">
                  
                  <table class="table table-striped table-hover">
                    <thead>   
                      <th>Fecha</th>
                      <th>Ident</th>
                      <th>Nombres y Apellidos</th> 
                      <th>Dirección</th> 
                      <th>Teléfono</th>
                      <th>Edad</th>
                      <th>Tos</th>
                      <th>Dif Resp</th>
                      <th>Dol Garg</th>
                      <th>Fiebre</th>
                      <th>Sosp</th> 
                      <th>Pru Covid</th> 
                      <th class="all">Acciones</th> 
                    </thead>  
                    <tbody>
                      {% for item in obj %}
                        <tr>
                            <td>{{item.fecharealiza|date:"d/m/Y"}}</td>                            
                            <td>{{item.paciente.identificacion}}</td>
                            <td>{{item.paciente.nombres}} {{item.paciente.apellido1}} {{item.paciente.apellido2}}</td>
                            <td>{{item.paciente.direccion}}</td>                            
                            <td>{{item.paciente.telefono}}</td>
                            <td>{{item.edad}}</td>  
                            <td>{{item.tos}}</td>                            
                            <td>{{item.dificultadrespirar}}</td>                            
                            <td>{{item.dolorgarganta}}</td>                            
                            <td>{{item.fiebre}}</td>
                            <td>{{item.sospechoso}}</td>
                            <td>{{item.pruebacovid}}</td>
                            <td>

                              <a class="btn btn-warning btn-circle" href="{% url 'cvd:bac_edit' item.pk %}"> <i class="far fa-edit"></i></a>                             
                              
                            </td>
                          </tr>                   
                      {% endfor %}
                    </tbody>

                  </table>
                </div>
            </div>
{% endblock page_content %}

{% block js_page %}
 <script>
  //llamada al DataTable 
    $(document).ready(function() { 

      $("#sidebarToggle").click();       
      
      $(".table").DataTable({
         language: {
        "decimal": "",
        "emptyTable": "No hay información",
        "info": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ Registros",
        "infoEmpty": "Mostrando registros del 0 al 0 de un total de 0 Registros",
        "infoFiltered": "(Filtrado de _MAX_ total entradas)",
        "infoPostFix": "",
        "thousands": ",",
        "lengthMenu": "Mostrar _MENU_ Registros",
        "loadingRecords": "Cargando...",
        "processing": "Procesando...",
        "search": "Buscar:",
        "zeroRecords": "No se encontraron resultados",
        "paginate": {
            "first": "<span class='fa fa-angle-double-left'></span>",
            "last": "<span class='fa fa-angle-double-right'></span>",
            "next": "<span class='fa fa-angle-right'></span>",
            "previous": "<span class='fa fa-angle-left'></span>"
        }
    	},
      });
	});
 </script>

 {% endblock %}
